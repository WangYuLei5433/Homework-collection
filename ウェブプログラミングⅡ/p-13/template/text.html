<!DOCTYPE html>
<html>
<head>
   <meta charset="utf-8">
   <title>Ajax</title>
   <style>
      #content {
         width: 300px;
         height: 300px;
         border: 1px solid blue;
      }
   </style>
</head>
<body>
      <h3>Ajaxの例</h3>
      <p>ボタンをクリックしたらdivの領域内に<br>サーバーから取得したファイルの中身を表示します
      </p>
   <div id="content"></div>
   <button id="btn">サーバからファイル取得</button>

   <script>
      const btn=document.querySelector("#btn");
      btn.addEventListener("click",()=> {
          //サーバとの要求／応答のやりとりを管理するオブジェクトを生成する
          const req = new XMLHttpRequest();
          //load時のリスナーを登録する
          req.addEventListener("load", () => {
              getData(req);
          });
          // openでhttpリクエストを初期化,アクセス先URL(相対パス)を決める
          req.open("GET", "kyoto-0.html");
          // httpリクエスト送信
          req.send();
      });
      function getData(req) {
          //レスポンス読み出し
          let result = req.responseText;
          //HTML要素へ出力
          document.querySelector("#content").innerHTML = result;
      }
   </script>
</body>
</html>